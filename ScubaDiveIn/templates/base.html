{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-12VZRKGGE1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-12VZRKGGE1');
  </script>
  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "rmy88s8afi");
  </script>
  <meta name="google-site-verification" content="RVSGoB07NHHrWlYXBaRiEpfFqIHgs3I6cZvQYKonHDY" />
  
  <!-- Schema Markup for SEO -->
  <script type="application/ld+json">
  {{ schema_markup|safe }}
  </script>
  
  <title>{% block title %}Scuba Diving in Andaman – Explore the Best Diving Spots & Packages{% endblock %}</title>
  <meta name="description" content="{% block description %}Discover the beauty of scuba diving in Andaman! Explore crystal-clear waters, vibrant coral reefs, and diverse marine life. Book the best scuba diving packages for an unforgettable underwater adventure.{% endblock %}">
  <link rel="shortcut icon" href="{% static 'images/logo-main.png' %}">
  <!-- Optimized Font Loading with Critical CSS -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet"></noscript>
  
  <!-- Critical CSS for above-the-fold content -->
  <style>
    /* Critical font loading with system font fallback */
    body {
      font-family: system-ui, -apple-system, 'Segoe UI', sans-serif;
    }
    
    /* Critical H1 styles to prevent layout shift and render blocking */
    .hero-title {
      font-family: system-ui, -apple-system, 'Segoe UI', sans-serif;
      font-weight: 700;
      font-size: 2.25rem; /* text-4xl */
      line-height: 1.1;
      margin-top: 5rem; /* mt-20 */
      margin-bottom: 0;
      color: white;
      text-align: center;
      /* Ensure text renders immediately */
      font-display: swap;
    }
    
    /* Progressive enhancement when custom font loads */
    .fonts-loaded .hero-title,
    .fonts-loaded body {
      font-family: 'Open Sans', system-ui, -apple-system, sans-serif;
    }
    
    /* Responsive breakpoints */
    @media (min-width: 768px) {
      .hero-title {
        font-size: 3rem; /* md:text-5xl */
        margin-top: 0; /* md:mt-0 */
        margin-bottom: 3.5rem; /* md:mb-14 */
      }
    }
    
    @media (min-width: 1024px) {
      .hero-title {
        font-size: 3.75rem; /* lg:text-6xl */
      }
    }
    
    /* Critical Tailwind utilities for immediate rendering */
    .text-center { text-align: center; }
    .text-white { color: white; }
    .font-bold { font-weight: 700; }
    .relative { position: relative; }
    .container { 
      width: 100%; 
      margin-left: auto; 
      margin-right: auto; 
      padding-left: 5%; 
      padding-right: 5%; 
    }
  </style>
  
  <!-- Font loading optimization script -->
  <script>
    // Optimize font loading performance
    if ('fonts' in document) {
      document.fonts.ready.then(function() {
        document.documentElement.classList.add('fonts-loaded');
      });
    } else {
      // Fallback for older browsers
      setTimeout(function() {
        document.documentElement.classList.add('fonts-loaded');
      }, 100);
    }
  </script>
  
  <!-- Optimized Tailwind CSS Loading -->
  <script>
    // Load Tailwind CSS asynchronously
    const tailwindScript = document.createElement('script');
    tailwindScript.src = 'https://cdn.tailwindcss.com';
    tailwindScript.async = true;
    tailwindScript.onload = function() {
      // Configure Tailwind after it loads
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'ocean-blue': '#006994',
              'coral': '#FF6B6B',
              'sea-green': '#2E8B57',
              'deep-blue': '#003366',
              'sand': '#F4D03F',
              'wave': '#E8F4F8'
            },
            fontFamily: {
              'sans': ['"Open Sans"', 'sans-serif'],
            }
          }
        }
      }
    };
    document.head.appendChild(tailwindScript);
  </script>
</head>
<body class="bg-wave font-sans">
<!-- Navigation Bar -->
    <section id="relume" class="fixed top-0 md:top-4 left-0 md:left-4 right-0 md:right-4 z-[999] flex w-full items-center border-b border-ocean-blue/20 bg-white/80 backdrop-blur-md md:rounded-full shadow-lg lg:min-h-20 px-4 lg:px-[5%] transition-all duration-300">
    <div class="mx-auto size-full lg:grid lg:grid-cols-[0.375fr_1fr_0.375fr] lg:items-center lg:justify-between lg:gap-4">
        <div class="flex min-h-16 items-center justify-between md:min-h-18 lg:min-h-full lg:px-0">
        <a href="{% url 'homePage' %}"><img src="{% static 'images/logo-main.png' %}" alt="Logo image" class="h-12 md:h-16 lg:h-[75px] transition-all duration-300"/></a>
        <div class="flex items-center gap-3 lg:hidden">
            <div>
            {% if user.is_authenticated %}
              <a href="{% url 'profile' %}" class="rounded-full inline-flex gap-2 items-center justify-center whitespace-nowrap transition-all duration-200 ease-in-out disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none border-2 border-ocean-blue bg-ocean-blue text-white hover:bg-white hover:text-ocean-blue px-3 py-1 text-sm md:px-4 md:text-base" title="Profile">
                My Account
              </a>
            {% else %}
              <a href="{% url 'login' %}" class="rounded-full inline-flex gap-2 items-center justify-center whitespace-nowrap transition-all duration-200 ease-in-out disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none border-2 border-ocean-blue bg-ocean-blue text-white hover:bg-white hover:text-ocean-blue px-3 py-1 text-sm md:px-4 md:text-base" title="Login">
                Login
              </a>
            {% endif %}
            </div>
            <button class="flex flex-col items-center justify-center w-10 h-10 lg:hidden focus:outline-none" aria-label="Toggle Menu" id="mobile-menu-button">
            <span class="my-[3px] h-0.5 w-6 bg-ocean-blue transition-all duration-300"></span>
            <span class="my-[3px] h-0.5 w-6 bg-ocean-blue transition-all duration-300"></span>
            <span class="my-[3px] h-0.5 w-6 bg-ocean-blue transition-all duration-300"></span>
            </button>
        </div>
        </div>
        <div class="overflow-hidden px-4 md:px-[5%] text-center lg:flex lg:items-center lg:justify-center lg:px-0 lg:[--height-closed:auto] lg:[--height-open:auto] transition-all duration-300 ease-in-out" id="mobile-menu" style="height:var(--height-closed, 0)">
        <a href="{% url 'homePage' %}" class="block py-3 text-base text-ocean-blue hover:text-coral first:pt-7 lg:px-4 lg:py-2 first:lg:pt-2 transition-colors duration-200">Home</a>
        <a href="{% url 'aboutPage' %}" class="block py-3 text-base text-ocean-blue hover:text-coral lg:px-4 lg:py-2 transition-colors duration-200">About Us</a>
        <a href="{% url 'coursesPage' %}" class="block py-3 text-base text-ocean-blue hover:text-coral lg:px-4 lg:py-2 transition-colors duration-200">Courses</a>
        <a href="{% url 'instructorsPage' %}" class="block py-3 text-base text-ocean-blue hover:text-coral lg:px-4 lg:py-2 transition-colors duration-200">Instructors</a>
        <a href="{% url 'blogsPage' %}" class="block py-3 text-base text-ocean-blue hover:text-coral lg:px-4 lg:py-2 transition-colors duration-200">Blogs</a>
        <a href="{% url 'contactPage' %}" class="block py-3 text-base text-ocean-blue hover:text-coral lg:px-4 lg:py-2 transition-colors duration-200">Contact Us</a>
        
        {% if user.is_authenticated %}
        <div class="border-t border-gray-200 mt-4 mb-2 lg:hidden"></div>
        <a href="{% url 'profile' %}" class="block py-3 text-base text-coral hover:text-ocean-blue lg:hidden transition-colors duration-200">My Profile</a>
        <a href="{% url 'booking_history' %}" class="block py-3 text-base text-coral hover:text-ocean-blue lg:hidden transition-colors duration-200">My Bookings</a>
        <a href="{% url 'logout' %}" class="block py-3 text-base text-coral hover:text-ocean-blue lg:hidden transition-colors duration-200">Log Out</a>
        {% else %}
        <div class="border-t border-gray-200 mt-4 mb-2 lg:hidden"></div>
        <a href="{% url 'login' %}" class="block py-3 text-base text-coral hover:text-ocean-blue lg:hidden transition-colors duration-200">Log In</a>
        <a href="{% url 'signup' %}" class="block py-3 text-base text-coral hover:text-ocean-blue lg:hidden transition-colors duration-200">Sign Up</a>
        {% endif %}
        </div>
        <div class="hidden justify-self-end lg:block">
          {% if user.is_authenticated %}
            <div class="flex items-center gap-3">
              <div class="relative group">
                <button class="rounded-full inline-flex gap-3 items-center justify-center whitespace-nowrap transition-all duration-200 ease-in-out focus-visible:outline-none border-2 border-ocean-blue bg-ocean-blue text-white hover:bg-white hover:text-ocean-blue px-4 py-2" title="My Account">
                  <span>{{ user.first_name|default:user.username }}</span>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down transition-transform duration-200 group-hover:rotate-180" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                  </svg>
                </button>
                <div class="absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none hidden group-hover:block transition-all duration-200">
                  <div class="py-1">
                    <a href="{% url 'profile' %}" class="block px-4 py-2 text-sm text-ocean-blue hover:bg-ocean-blue hover:text-white transition-colors duration-200">My Profile</a>
                    <a href="{% url 'booking_history' %}" class="block px-4 py-2 text-sm text-ocean-blue hover:bg-ocean-blue hover:text-white transition-colors duration-200">My Bookings</a>
                    <div class="border-t border-gray-200"></div>
                    <a href="{% url 'logout' %}" class="block px-4 py-2 text-sm text-ocean-blue hover:bg-ocean-blue hover:text-white transition-colors duration-200">Log Out</a>
                  </div>
                </div>
              </div>
            </div>
          {% else %}
            <div class="flex items-center gap-3">
              <a href="{% url 'login' %}" class="rounded-full inline-flex gap-3 items-center justify-center whitespace-nowrap transition-all duration-200 ease-in-out focus-visible:outline-none border-2 border-transparent text-ocean-blue hover:border-ocean-blue hover:bg-ocean-blue hover:text-white px-4 py-2" title="Login">
                Log In
              </a>
              <a href="{% url 'signup' %}" class="rounded-full inline-flex gap-3 items-center justify-center whitespace-nowrap transition-all duration-200 ease-in-out focus-visible:outline-none border-2 border-ocean-blue bg-ocean-blue text-white hover:bg-white hover:text-ocean-blue px-6 py-2" title="Sign Up">
                Sign Up
              </a>
            </div>
          {% endif %}
        </div>
    </div>
    </section>

    {% block content %}

    {% endblock %}

    <!-- CTA Section -->
<section id="relume" class="px-4 sm:px-[5%] py-12 md:py-24 lg:py-28 bg-gradient-to-b from-wave to-deep-blue">
  <div class="container mx-auto text-center">
    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-4 md:mb-6">Ready to Start Your Diving Journey?</h2>
    <p class="text-wave max-w-2xl mx-auto mb-6 md:mb-8 px-4 sm:px-0 text-sm sm:text-base">Our instructors are ready to guide you through every step of your scuba adventure, from your first breath underwater to advanced technical diving.</p>
    <div class="flex flex-col sm:flex-row justify-center gap-3 sm:gap-4 px-4 sm:px-0">
      <a href="{% url 'dsdBooking' %}" class="w-full sm:w-auto">
        <button class="w-full sm:w-auto rounded-full inline-flex items-center justify-center border-2 border-coral bg-coral text-white hover:bg-white hover:text-coral px-6 sm:px-8 py-3 transition-colors text-sm sm:text-base">
          Book a Discover Scuba Dive
        </button>
      </a>
      <a href="{% url 'contactPage' %}" class="w-full sm:w-auto">
        <button class="w-full sm:w-auto rounded-full inline-flex items-center justify-center border-2 border-white bg-transparent text-white hover:bg-white hover:text-deep-blue px-6 sm:px-8 py-3 transition-colors text-sm sm:text-base">
          Contact Our Team
        </button>
      </a>
    </div>
  </div>
</section>

    <footer id="relume" class="px-4 sm:px-[5%] py-12 md:py-18 lg:py-20 bg-deep-blue text-white">
        <div class="container mx-auto">
          <div class="grid grid-cols-1 items-start gap-y-10 pb-8 sm:pb-12 md:gap-y-16 md:pb-18 lg:grid-cols-[1fr_0.5fr] lg:gap-y-4 lg:pb-20">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10 sm:gap-8">
              <div class="flex flex-col items-center lg:items-start col-span-1 sm:col-span-2 lg:col-span-1">
                <a href="{% url 'homePage' %}" class="mb-8">
                  <img src="{% static 'images/logo-white.png' %}" alt="Logo image" class="h-16 sm:h-20"/>
                </a>
              </div>

              <!-- Quick Links Section -->
              <div class="flex flex-col items-center lg:items-start">
                <h2 class="text-lg font-semibold text-coral mb-4">Quick Links</h2>
                <ul class="flex flex-col items-center lg:items-start space-y-2">
                  <li>
                    <a href="{% url 'aboutPage' %}" class="text-sm text-white hover:text-coral transition-colors">About Us</a>
                  </li>
                  <li>
                    <a href="{% url 'contactPage' %}" class="text-sm text-white hover:text-coral transition-colors">Contact Us</a>
                  </li>
                  <li>
                    <a href="{% url 'coursesPage' %}" class="text-sm text-white hover:text-coral transition-colors">Our Courses</a>
                  </li>
                  <li>
                    <a href="{% url 'blogsPage' %}" class="text-sm text-white hover:text-coral transition-colors">Blog</a>
                  </li>
                  <li>
                    <a href="{% url 'instructorsPage' %}" class="text-sm text-white hover:text-coral transition-colors">Instructor Info</a>
                  </li>
                </ul>
              </div>

              <!-- Stay Connected Section -->
              <div class="flex flex-col items-center lg:items-start">
                <h2 class="text-lg font-semibold text-coral mb-4">Stay Connected</h2>
                <ul class="flex flex-col items-center lg:items-start space-y-2">
                  <!-- <li>
                    <a href="#" class="text-sm text-white hover:text-coral transition-colors">Follow Us</a>
                  </li> -->
                  <!-- <li>
                    <a href="#" class="text-sm text-white hover:text-coral transition-colors">Social Media</a>
                  </li> -->
                  <li>
                    <a href="{% url 'blogsPage' %}" class="text-sm text-white hover:text-coral transition-colors">Diving Tips</a>
                  </li>
                  <li>
                    <a href="{% url 'faqPage' %}" class="text-sm text-white hover:text-coral transition-colors">Safety Guidelines</a>
                  </li>
                  <li>
                    <a href="{% url 'faqPage' %}" class="text-sm text-white hover:text-coral transition-colors">FAQs</a>
                  </li>
                </ul>
              </div>

              <!-- Newsletter Section -->
              <div class="flex flex-col items-center lg:items-start">
                <h2 class="text-lg font-semibold text-coral mb-4">Newsletter</h2>
                <ul class="flex flex-col items-center lg:items-start space-y-2">
                  <li>
                    <a href="{% url 'signup' %}" class="text-sm text-white hover:text-coral transition-colors">Sign Up</a>
                  </li>
                  <li>
                    <a href="#" class="text-sm text-white hover:text-coral transition-colors">Latest News</a>
                  </li>
                  <li>
                    <a href="{% url 'coursesPage' %}" class="text-sm text-white hover:text-coral transition-colors">Course Updates</a>
                  </li>
                  <li>
                    <a href="#" class="text-sm text-white hover:text-coral transition-colors">Special Offers</a>
                  </li>
                  <li>
                    <a href="{% url 'eventsPage' %}" class="text-sm text-white hover:text-coral transition-colors">Event Alerts</a>
                  </li>
                </ul>
              </div>
            </div>

            <!-- Subscribe Section -->
            <div class="flex flex-col items-center lg:items-start mt-10 lg:mt-0">
              <h2 class="text-lg font-semibold text-coral mb-4">Subscribe</h2>
              <p class="text-sm text-white mb-6 text-center lg:text-left max-w-sm">
                Join our newsletter to stay updated on courses and special offers.
              </p>
              <div class="w-full max-w-md">
                <form action="{% url 'newsletter_signup' %}" method="POST"
                  class="flex flex-col sm:flex-row gap-3">
                  {% csrf_token %}
                  <div class="flex-grow">
                    <input
                      type="email"
                      name="email"
                      class="w-full rounded-full py-2 px-4 transition-all duration-200 border-2 border-white bg-transparent text-white placeholder-white/70 min-h-[44px] text-sm focus:outline-none focus:border-coral"
                      id="email"
                      placeholder="Enter your email"
                      required
                    />
                  </div>
                  <button type="submit"
                    class="w-full sm:w-auto rounded-full inline-flex items-center justify-center whitespace-nowrap transition-all duration-200 border-2 border-coral bg-coral text-white hover:bg-white hover:text-coral px-6 py-2 min-h-[44px] text-sm"
                    title="Subscribe">
                    <span>Subscribe</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                  </button>
                </form>
                {% if messages %}
                <div class="messages mt-4 text-center lg:text-left">
                    {% for message in messages %}
                    <div class="text-sm {% if message.tags == 'success' %}text-green-400{% elif message.tags == 'error' %}text-red-400{% else %}text-white/70{% endif %}">
                        {{ message }}
                    </div>
                    {% endfor %}
                </div>
                {% endif %}
                <p class="text-xs text-white/70 mt-4 text-center lg:text-left">
                  By subscribing, you agree to our Privacy Policy and receive updates.
                </p>
              </div>
            </div>
          </div>

          <!-- Social Media Links -->
          <div class="mt-10 pt-8 border-t border-white/10">
            <div class="flex flex-col items-center gap-6">
              <div class="flex items-center justify-center gap-4">
                <a href="https://www.facebook.com/profile.php?id=61574950652928" 
                   class="text-white hover:text-coral transition-colors p-2"
                   aria-label="Facebook">
                  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12.001 2.002c-5.522 0-9.999 4.477-9.999 9.999 0 4.99 3.656 9.126 8.437 9.879v-6.988h-2.54v-2.891h2.54V9.798c0-2.508 1.493-3.891 3.776-3.891 1.094 0 2.24.195 2.24.195v2.459h-1.264c-1.24 0-1.628.772-1.628 1.563v1.875h2.771l-.443 2.891h-2.328v6.988C18.344 21.129 22 16.992 22 12.001c0-5.522-4.477-9.999-9.999-9.999z"/>
                  </svg>
                </a>
                <a href="https://www.instagram.com/scubadiveindia" 
                   class="text-white hover:text-coral transition-colors p-2"
                   aria-label="Instagram">
                  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2c2.717 0 3.056.01 4.122.06 1.065.05 1.79.217 2.428.465.66.254 1.216.598 1.772 1.153a4.908 4.908 0 0 1 1.153 1.772c.247.637.415 1.363.465 2.428.047 1.066.06 1.405.06 4.122 0 2.717-.01 3.056-.06 4.122-.05 1.065-.218 1.79-.465 2.428a4.883 4.883 0 0 1-1.153 1.772 4.915 4.915 0 0 1-1.772 1.153c-.637.247-1.363.415-2.428.465-1.066.047-1.405.06-4.122.06-2.717 0-3.056-.01-4.122-.06-1.065-.05-1.79-.218-2.428-.465a4.89 4.89 0 0 1-1.772-1.153 4.904 4.904 0 0 1-1.153-1.772c-.248-.637-.415-1.363-.465-2.428C2.013 15.056 2 14.717 2 12c0-2.717.01-3.056.06-4.122.05-1.066.217-1.79.465-2.428a4.88 4.88 0 0 1 1.153-1.772A4.897 4.897 0 0 1 5.45 2.525c.638-.248 1.362-.415 2.428-.465C8.944 2.013 9.283 2 12 2zm0 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm6.5-.25a1.25 1.25 0 0 0-2.5 0 1.25 1.25 0 0 0 2.5 0zM12 9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/>
                  </svg>
                </a>
              </div>
              <div class="flex flex-col sm:flex-row items-center justify-center gap-4 text-sm text-white/70">
                <a href="{% url 'privacyPolicy' %}" class="hover:text-coral transition-colors">Privacy Policy</a>
                <span class="hidden sm:block">•</span>
                <a href="{% url 'termsConditions' %}" class="hover:text-coral transition-colors">Terms & Conditions</a>
                <span class="hidden sm:block">•</span>
                <a href="{% url 'shippingPolicy' %}" class="hover:text-coral transition-colors">Shipping Policy</a>
                <span class="hidden sm:block">•</span>
                <a href="{% url 'cancellationsRefunds' %}" class="hover:text-coral transition-colors">Cancellations & Refunds</a>
              </div>
              <div class="flex flex-col sm:flex-row items-center justify-center gap-2 text-sm text-white/70">
                <p>© {% now "Y" %} ScubaDiveIn. All rights reserved.</p>
                <span class="hidden sm:block">•</span>
                <p>Powered by <a href="https://www.monkmantra.com/" target="_blank" rel="noopener noreferrer" class="text-coral hover:text-white transition-colors">Monk Mantra</a></p>
              </div>
            </div>
          </div>
        </div>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const menuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuBars = menuButton.querySelectorAll('span');
            let isOpen = false;

            function updateMenuState() {
                if (isOpen) {
                    // Set menu height to its scroll height when open
                    mobileMenu.style.height = mobileMenu.scrollHeight + 'px';
                    // Transform hamburger to X
                    menuBars[0].style.transform = 'translateY(8px) rotate(45deg)';
                    menuBars[1].style.opacity = '0';
                    menuBars[2].style.transform = 'translateY(-8px) rotate(-45deg)';
                } else {
                    // Close menu
                    mobileMenu.style.height = '0';
                    // Reset hamburger
                    menuBars[0].style.transform = 'none';
                    menuBars[1].style.opacity = '1';
                    menuBars[2].style.transform = 'none';
                }
            }

            menuButton.addEventListener('click', function() {
                isOpen = !isOpen;
                updateMenuState();
            });

            // Handle resize events to ensure proper menu state
            window.addEventListener('resize', function() {
                if (window.innerWidth >= 1024) { // lg breakpoint
                    mobileMenu.style.height = 'auto';
                    isOpen = false;
                    menuBars.forEach(bar => {
                        bar.style.transform = 'none';
                        bar.style.opacity = '1';
                    });
                } else if (!isOpen) {
                    mobileMenu.style.height = '0';
                }
            });
        });
    </script>

    <!-- WhatsApp Floating Button -->
    <style>
      @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
      }
      
      @keyframes pulse-ring {
        0% { transform: scale(0.8); opacity: 1; }
        100% { transform: scale(2.4); opacity: 0; }
      }
      
      @keyframes wobble {
        0%, 100% { transform: rotate(0deg); }
        25% { transform: rotate(5deg); }
        75% { transform: rotate(-5deg); }
      }
      
      .whatsapp-float {
        animation: float 3s ease-in-out infinite;
      }
      
      .whatsapp-float:hover {
        animation: wobble 0.6s ease-in-out;
      }
      
      .pulse-ring {
        animation: pulse-ring 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite;
      }
    </style>
    
    <div class="fixed bottom-6 right-6 z-50">
      <!-- Pulse Ring Animation -->
      <div class="absolute inset-0 bg-green-400 rounded-full pulse-ring"></div>
      <div class="absolute inset-0 bg-green-400 rounded-full pulse-ring" style="animation-delay: 1s;"></div>
      
      <!-- WhatsApp Button -->
      <a href="https://wa.me/917695070548?text=Hi!%20I'm%20interested%20in%20scuba%20diving%20courses%20and%20packages.%20Please%20share%20more%20details." 
         target="_blank" 
         rel="noopener noreferrer"
         class="relative block bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-xl transition-all duration-300 transform hover:scale-110 whatsapp-float group"
         title="Contact us on WhatsApp"
         aria-label="Contact us on WhatsApp">
        
        <!-- WhatsApp Icon -->
        <svg class="w-6 h-6 md:w-8 md:h-8 relative z-10" fill="currentColor" viewBox="0 0 24 24">
          <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
        </svg>
        
        <!-- Notification Dot with Enhanced Animation -->
        <div class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center animate-bounce">
          <div class="absolute inset-0 bg-red-400 rounded-full animate-ping"></div>
          <span class="relative z-10 font-bold">!</span>
        </div>
        
        <!-- Tooltip -->
        <div class="absolute bottom-full right-0 mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none">
          <div class="bg-gray-800 text-white text-sm py-2 px-3 rounded-lg whitespace-nowrap shadow-lg">
            Chat with us on WhatsApp
            <div class="absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"></div>
          </div>
        </div>
      </a>
    </div>
</body>
</html>